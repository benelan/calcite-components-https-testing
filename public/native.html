<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <script type="module" src="./main.js"></script>
  </head>
  <style>
    @keyframes onAutoFillStart {
      from {
        /**/
      }
      to {
        /**/
      }
    }
    @keyframes onAutoFillCancel {
      from {
        /**/
      }
      to {
        /**/
      }
    }

    input:autofill,
    input:-webkit-autofill {
      animation-name: onAutoFillStart;
    }
    input:not:autofill,
    input:not:-webkit-autofill {
      animation-name: onAutoFillCancel;
    }
  </style>
  <body>
    <p>
      This page is to test browser autofill of username and password fields.
      Complete the fields below and click submit. Choose to save the
      username/password in your browser.
    </p>

    <form action="auth.html" method="GET">
      <input
        inert
        class="hidden-input"
        type="text"
        name="username"
        placeholder="username"
        autocomplete="username"
      >
      </input>
      <input
        inert
        class="hidden-input"
        type="password"
        name="password"
        placeholder=" password"
        autocomplete="current-password"
      >
      </input>
      <button type="submit">submit</button>
    </form>
    <script>
      document.addEventListener("change", (event) =>
        console.log(
          "target value:",
          event.target.value,
          "\ntarget name:",
          event.target.name
        )
      );

      // change the inputs to native inputs for the animationstart event listener
      document
        .querySelectorAll(".hidden-input")
        .forEach((input) =>
          input.addEventListener("animationstart", (event) =>
            console.log(event)
          )
        );
    </script>
  </body>
</html>
